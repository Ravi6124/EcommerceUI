{"remainingRequest":"/Users/priyapatel/Desktop/EcommerceUI/node_modules/babel-loader/lib/index.js!/Users/priyapatel/Desktop/EcommerceUI/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/priyapatel/Desktop/EcommerceUI/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/priyapatel/Desktop/EcommerceUI/src/views/Login.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/priyapatel/Desktop/EcommerceUI/src/views/Login.vue","mtime":1580105341561},{"path":"/Users/priyapatel/Desktop/EcommerceUI/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/priyapatel/Desktop/EcommerceUI/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/priyapatel/Desktop/EcommerceUI/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/priyapatel/Desktop/EcommerceUI/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2giOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QuZ2V0LW93bi1wcm9wZXJ0eS1kZXNjcmlwdG9yIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmdldC1vd24tcHJvcGVydHktZGVzY3JpcHRvcnMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3Qua2V5cyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuZm9yLWVhY2giOwppbXBvcnQgX2RlZmluZVByb3BlcnR5IGZyb20gIi9Vc2Vycy9wcml5YXBhdGVsL0Rlc2t0b3AvRWNvbW1lcmNlVUkvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2RlZmluZVByb3BlcnR5IjsKCmZ1bmN0aW9uIG93bktleXMob2JqZWN0LCBlbnVtZXJhYmxlT25seSkgeyB2YXIga2V5cyA9IE9iamVjdC5rZXlzKG9iamVjdCk7IGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7IHZhciBzeW1ib2xzID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhvYmplY3QpOyBpZiAoZW51bWVyYWJsZU9ubHkpIHN5bWJvbHMgPSBzeW1ib2xzLmZpbHRlcihmdW5jdGlvbiAoc3ltKSB7IHJldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9iamVjdCwgc3ltKS5lbnVtZXJhYmxlOyB9KTsga2V5cy5wdXNoLmFwcGx5KGtleXMsIHN5bWJvbHMpOyB9IHJldHVybiBrZXlzOyB9CgpmdW5jdGlvbiBfb2JqZWN0U3ByZWFkKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldICE9IG51bGwgPyBhcmd1bWVudHNbaV0gOiB7fTsgaWYgKGkgJSAyKSB7IG93bktleXMoT2JqZWN0KHNvdXJjZSksIHRydWUpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyBfZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHNvdXJjZVtrZXldKTsgfSk7IH0gZWxzZSBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMpIHsgT2JqZWN0LmRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhzb3VyY2UpKTsgfSBlbHNlIHsgb3duS2V5cyhPYmplY3Qoc291cmNlKSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihzb3VyY2UsIGtleSkpOyB9KTsgfSB9IHJldHVybiB0YXJnZXQ7IH0KCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCB7IG1hcEdldHRlcnMgfSBmcm9tICd2dWV4JzsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdMb2dpbicsCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGl0ZW1zOiBbXSwKICAgICAgZGlzYWJsZUJ0bjogZmFsc2UsCiAgICAgIG1zZzogJycsCiAgICAgIGxvZ2luU291cmNlOiAnJwogICAgfTsKICB9LAogIGNvbXB1dGVkOiBfb2JqZWN0U3ByZWFkKHt9LCBtYXBHZXR0ZXJzKFsibG9naW5SZXNwb25zZUdldHRlciJdKSwgewogICAgbG9naW5SZXM6IGZ1bmN0aW9uIGxvZ2luUmVzKCkgewogICAgICByZXR1cm4gdGhpcy5sb2dpblJlc3BvbnNlR2V0dGVyOwogICAgfQogIH0pLAogIG1ldGhvZHM6IHsKICAgIGdvb2dsZWF1dGg6IGZ1bmN0aW9uIGdvb2dsZWF1dGgoKSB7CiAgICAgIC8vd2luZG93LmNvbnNvbGUubG9nKCJJTiIpOwogICAgICAvLyB0aGlzLmxvZ2luU291cmNlPSAnZ29vZ2xlJzsKICAgICAgaWYgKCF0aGlzLnJvbGUpIHsKICAgICAgICB0aGlzLm1zZyA9ICJQbGVhc2Ugc2VsZWN0IGEgcm9sZSI7CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICB9CgogICAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgiZ29vZ2xlQXV0aCIsIHsKICAgICAgICBwYXJhbXM6IHsKICAgICAgICAgIHJvbGU6IHRoaXMucm9sZQogICAgICAgIH0sCiAgICAgICAgc3VjY2VzczogdGhpcy5sb2dpblN1Y2Nlc3MKICAgICAgfSk7CiAgICB9LAogICAgRmFjZWJvb2tBdXRoOiBmdW5jdGlvbiBGYWNlYm9va0F1dGgoKSB7CiAgICAgIC8vIHRoaXMubG9naW5Tb3VyY2UgPSAnZmFjZWJvb2snOwogICAgICAvLyB3aW5kb3cuY29uc29sZS5sb2codGhpcy4kc3RvcmUpCiAgICAgIGlmICghdGhpcy5yb2xlKSB7CiAgICAgICAgdGhpcy5tc2cgPSAiUGxlYXNlIHNlbGVjdCBjdXN0b21lciI7CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICB9CgogICAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgiZmJBdXRoIiwgewogICAgICAgIHN1Y2Nlc3M6IHRoaXMubG9naW5TdWNjZXNzCiAgICAgIH0pOwogICAgfSwKICAgIGxvZ2luU3VjY2VzczogZnVuY3Rpb24gbG9naW5TdWNjZXNzKCkgewogICAgICBpZiAodGhpcy5sb2dpblJlcy5zdGF0dXNDb2RlID09IDgwMCkgewogICAgICAgIHRoaXMubXNnID0gdGhpcy5sb2dpblJlcy5tZXNzYWdlOwogICAgICB9IGVsc2UgaWYgKHRoaXMubG9naW5SZXMuc3RhdHVzQ29kZSA9PSAxMDAwKSB7CiAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3VzZXJFbWFpbCcsIHRoaXMubG9naW5SZXMuZW1haWxBZGRyZXNzKTsKICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgndXNlclJvbGUnLCB0aGlzLnJvbGUpOwogICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCd1c2VySWQnLCB0aGlzLmxvZ2luUmVzLnVzZXJJZCk7IC8vc3RvcmUgZW1haWwgaW4gbG9jYWwgc3RvcmFnZQogICAgICAgIC8vaWYgY3VzdG9tZXIgaXMgbG9nZ2VkIGluIHJlZGlyZWN0IHRvIGN1c3RvbWVyIHBvcnRpb24KICAgICAgICAvL2lmIG1lcmNoYW50IGlzIGxvZ2dlZCBpbiByZWRpcmVjdCB0byBtZXJjaGFudCBob21lCgogICAgICAgIHRoaXMuJHN0b3JlLnN0YXRlLmxvZ2luU3RhdHVzID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3VzZXJSb2xlJyk7IC8vdGhpcy4kcm91dGVyLnB1c2goe25hbWUgOiAndXNlcmhvbWUnfSkKCiAgICAgICAgaWYgKHRoaXMucm9sZSA9PSAnY3VzdG9tZXInKSB7CiAgICAgICAgICB0aGlzLiRyb3V0ZXIuZ28oLTEpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7CiAgICAgICAgICAgIG5hbWU6ICdtZXJjaGFudGhvbWUnCiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH0KICAgIH0sCiAgICBsb2dpbjogZnVuY3Rpb24gbG9naW4oKSB7CiAgICAgIHRoaXMubG9naW5Tb3VyY2UgPSAnbG9jYWwnOwoKICAgICAgaWYgKCEodGhpcy5wYXNzd29yZCAmJiB0aGlzLmVtYWlsICYmIHRoaXMucm9sZSkpIHsKICAgICAgICB3aW5kb3cuY29uc29sZS5sb2coJ2Z1bmN0aW9uIGNhbGwhIScpOwogICAgICAgIHRoaXMubXNnID0gJ0FsbCBhYm92ZSBmaWVsZHMgYXJlIHJlcXVpcmVkJzsKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgIH0KCiAgICAgIHZhciBlbWFpbCA9IHRoaXMuZW1haWw7CiAgICAgIHZhciBwYXNzd29yZCA9IHRoaXMucGFzc3dvcmQ7CiAgICAgIHZhciByb2xlID0gdGhpcy5yb2xlOwogICAgICB2YXIgZGF0YSA9IHsKICAgICAgICBlbWFpbEFkZHJlc3M6IGVtYWlsLAogICAgICAgIHBhc3N3b3JkOiBwYXNzd29yZCwKICAgICAgICByb2xlOiByb2xlLAogICAgICAgIGd1ZXN0SWQ6IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCd1c2VySWQnKSwKICAgICAgICBsb2dpblNvdXJjZTogdGhpcy5sb2dpblNvdXJjZSwKICAgICAgICB0eXBlOiAnd2ViJwogICAgICB9OwogICAgICB3aW5kb3cuY29uc29sZS5sb2coZGF0YSk7CiAgICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCdsb2dpbicsIHsKICAgICAgICBwYXJhbXM6IHsKICAgICAgICAgIGRhdGE6IGRhdGEKICAgICAgICB9LAogICAgICAgIHN1Y2Nlc3M6IHRoaXMubG9naW5TdWNjZXNzCiAgICAgIH0pOwogICAgfQogIH0KfTs="},{"version":3,"sources":["Login.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <main class=\"login\">\n    <h1>Login</h1>\n    <form action=\"\">\n      <div class=\"form-input email\"><br>\n        <label class=\"label-text\">Email</label> <br>\n        <input type=\"email\" name=\"email\" v-model=\"email\"><br><br>\n      </div>\n      \n      <div class=\"form-input password\">\n        <label class=\"label-text\">Password</label> <br>\n        <input type=\"password\" name=\"password\" v-model=\"password\"><br><br>\n      </div>\n      \n      <div class=\"user_type\">\n        <label>\n          <input type=\"radio\" name=\"user\" value=\"customer\" v-model=\"role\" checked>Customer\n        </label>\n        <label>\n          <input type=\"radio\" name=\"user\" value=\"merchant\" v-model=\"role\">Merchant\n        </label>\n      </div><br>\n      <button class=\"myBtn\"  @click.prevent=\"login\">Sign In</button><br><br>\n      Not a user?<a href=\"/signup\">SignUp</a><br>\n      <a href=\"/forgot\">Forgot your Password?</a>\n      <br><br>\n      <!-- <a href=\"#\" @click=\"FacebookAuth\" class=\"fa fa-facebook\"></a>\n      <a href=\"#\" @click=\"googleauth\" class=\"fa fa-google\"></a> -->\n      <div class=\"login_options\">\n        <a @click=\"FacebookAuth\" class=\"fb_icon\"><img src=\"../assets/fb_icon.png\" alt=\"fb_icon\" height=\"50px\" width=\"50px\"></a>\n        <a @click=\"googleauth\"><img src=\"../assets/gmail_icon.png\" alt=\"gmail_icon\" height=\"50px\" width=\"50px\"></a>\n      </div>\n    </form>\n    <div class=\"successful\">{{ msg }}</div>\n  </main>\n</template>\n\n<script>\nimport { mapGetters } from 'vuex';\nexport default {\n    name: 'Login',\n    data: function(){\n      return {\n        items: [],\n        disableBtn: false,\n        msg: '',\n        loginSource: ''\n      }\n    },\n    computed: {\n      ...mapGetters([\"loginResponseGetter\"]),\n      loginRes() {\n        return this.loginResponseGetter;\n      }\n    },\n    methods: {\n      googleauth: function() {\n      //window.console.log(\"IN\");\n      // this.loginSource= 'google';\n      if(!(this.role)){\n          this.msg = \"Please select a role\";\n          return false;\n        }\n      this.$store.dispatch(\"googleAuth\",{\n        params: {\n          role: this.role\n        },\n        success: this.loginSuccess\n      });\n      },\n      FacebookAuth: function() {\n        // this.loginSource = 'facebook';\n        // window.console.log(this.$store)\n        if(!(this.role)){\n          this.msg = \"Please select customer\";\n          return false;\n        }\n        this.$store.dispatch(\"fbAuth\",{\n          success: this.loginSuccess\n        });\n      },\n      loginSuccess() {\n        if(this.loginRes.statusCode==800){\n          this.msg = this.loginRes.message;\n        }else if(this.loginRes.statusCode==1000){\n          localStorage.setItem('userEmail', this.loginRes.emailAddress)\n          localStorage.setItem('userRole', this.role)\n          localStorage.setItem('userId', this.loginRes.userId)\n          //store email in local storage\n          //if customer is logged in redirect to customer portion\n          //if merchant is logged in redirect to merchant home\n          this.$store.state.loginStatus = localStorage.getItem('userRole');\n          //this.$router.push({name : 'userhome'})\n          if(this.role=='customer'){\n          this.$router.go(-1);\n          } else {\n            this.$router.push({name: 'merchanthome'})\n          }\n        }\n      },\n      login() {\n        this.loginSource = 'local'\n\n        if (!(this.password && this.email && this.role)) {\n          window.console.log('function call!!')\n          this.msg = 'All above fields are required';\n          return false;\n        }\n\n        let email = this.email;\n        let password = this.password;\n        let role = this.role;\n\n        let data = {\n        emailAddress: email,\n        password: password,\n        role: role,\n        guestId: localStorage.getItem('userId'),\n        loginSource: this.loginSource,\n        type: 'web'\n        };\n\n          window.console.log(data)\n        this.$store.dispatch('login', {\n          params: {\n            data: data\n          },\n          success: this.loginSuccess\n        });\n\n        \n\n      }\n    }\n}\n</script>\n\n<style scoped>\n  label{\n    padding-right: 25px;\n    padding-left: 0px;\n    cursor: pointer;\n  }\n  h1{\n    text-align: center;\n  }\n  input[type=\"email\"], input[type=\"password\"] {\n   width: 100%; \n   height: 25px;\n  }\n  input[type=\"radio\"]{\n    margin-right: 10px;\n  }\n  .fb_icon{\n    margin-right: 10%;\n  }\n  .login_options {\n    display: flex;\n    justify-content: center;\n  }\n  form{\n    text-align: center;\n    border: 1px solid black;\n    border-radius: 5px;\n    padding-bottom: 40px;\n    padding-top: 10px;\n    margin-top: 0%;\n    margin-bottom: .9%;\n    margin-right: 33%;\n    margin-left: 33%;\n    background-color:palegoldenrod;\n    background:rgba(255,255,255,0.5);\n    position: relative;\n  }\n  .form-input {\n    width: 70%;\n    margin: 0 auto;\n    text-align: left;\n  }\n  .label-text {\n    font-weight: bold;\n  }\n  .successful {\n    text-align: center;\n    color: red;\n  }\n</style>\n"],"sourceRoot":"src/views"}]}